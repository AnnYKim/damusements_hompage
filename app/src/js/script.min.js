/* ////// Last Modified: '2018-07-16 13:16:38'////// */$(function(){var t=$(".item-fade"),e=$(".item-line-label"),i=($(".damu-works"),null),o=null;new TimelineMax({paused:!0});$(window).on("load scroll",function(){i=$(window).scrollTop(),o=$(window).height(),t.each(function(t){var e=$(this).offset().top+$(this).outerHeight();i+o>e-150&&($(this).addClass("item-show"),$(".item-hide").addClass("item-show"))}),$(".item-fade-early").each(function(t){var e=$(this).offset().top+$(this).outerHeight();i+o>e-500&&$(this).addClass("item-show")}),e.each(function(t){var e=$(this).offset().top+$(this).outerHeight();i+o>e-150&&$(this).find(".item-line").addClass("item-show")})})});var scrollBarWidth=function(){document.body.style.overflow="hidden";var t=document.body.clientWidth;return document.body.style.overflow="scroll",(t-=document.body.clientWidth)||(t=document.body.offsetWidth-document.body.clientWidth),document.body.style.overflow="",t},preventScroll=function(){$(".wrap").css({"padding-right":scrollBarWidth()}),$("body").addClass("noScroll")},allowScroll=function(){$(".wrap").removeAttr("style"),$("body").removeClass("noScroll")},openPopup=function(t){switch(preventScroll(),t){case"damu":var e=$(".popup-damu");break;case"dsc":e=$(".popup-dsc");break;case"proz":e=$(".popup-proz")}$(".popup").show(),e.children(".popup-dim").removeClass("hide"),_tl_animatePopup.play()},closePopup=function(){_tl_animatePopup.reverse(),setTimeout(function(){allowScroll(),$(".popup").hide()},400)},invisible=function(){$(".popup-dim").addClass("hide"),_tl_animatePopup.reverse()},_tl_animatePopup=new TimelineMax({paused:!0,onReverseComplete:invisible});_tl_animatePopup.add(TweenMax.from(".popup-dim",.2,{css:{opacity:0},ease:TimelineMax.easeOut})).add(TweenMax.from(".popup-area",.4,{css:{opacity:0,transform:"translateY(100px)",ease:TimelineMax.easeOut},ease:TimelineMax.easeOut}));var popupEvent=function(){var t=$(".popup"),e=t.find(".popup-area"),i=t.find(".popup-dim"),o=$(".popup-button-close"),n=$("a[data-link-popup]");o.on("click",function(t){t.preventDefault(),closePopup()}),i.on("click",function(t){t.preventDefault(),closePopup()}),n.on("click",function(t){t.preventDefault();var e=$(this).data("link-popup");openPopup(e)}),e.on("click",function(t){t.stopPropagation()}),$(".popup").hide()},damuPopupEvent=function(){var t=$(".damu-works-item a");t.on("click",function(e){e.preventDefault();var i;i=t.index($(this)),console.log(i)})};$(window).on("load",function(){popupEvent(),damuPopupEvent()});var visualSwiper=new Swiper(".visual-slide",{loop:!0,touchRatio:0,pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1}}),serviceSwiperDuration=8e3,serviceSwiper=new Swiper(".service-slide",{loop:!0,touchRatio:0,navigation:{nextEl:".service-button-next",prevEl:".service-button-prev"},autoplay:{delay:serviceSwiperDuration,disableOnInteraction:!1,autoplayDisableOnInteraction:!1},autoplayDisableOnInteraction:!1,watchSlidesProgress:!0}),serviceSlideEvent=function(){$(".pagination-text.current");var t=$(".pagination-text.entire"),e=new TimelineMax;new TimelineMax;e.from(".service-slide-progress .line",8,{width:0,ease:Linear.easeNone},0).timeScale(1);var i=$(".service-slide-counter"),o=$('<span class="count">1<span/>');i.append(o),t.text(serviceSwiper.slides.length-2),serviceSwiper.on("slideChange",function(){var t,n;serviceSwiper.realIndex;t=serviceSwiper.realIndex+1,$(".service-slide").eq(t),n=$(".count"),(o=$('<span class="count next">'+t+"<span/>")).appendTo(i),TweenLite.to(n,.8,{y:-12,opacity:0,onCompleteParams:[n],onComplete:function(t){t.remove()},ease:Power2.easeOut}),TweenLite.fromTo(o,.8,{y:12,opacity:0},{y:0,opacity:1,ease:Power2.easeOut}),e.restart()})},aboutSlideEvent=function(){var t=$("button.about-story-button"),e=($(".about-slide"),0),i=$(".story-list-1"),o=$(".story-list-2"),n=$(".story-list-3"),a=$(".story-list-4"),l=$(".about-slide .logo"),s=$(".about-slide-line"),p=$(".story-text-list"),d={logo:["damu","dsc","proz"],list_1:{title:[],text:[]},list_2:{title:[],text:[]},list_3:{title:[],text:[]},list_4:{title:[],text:[]}},r=function(t){2==t?a.addClass("list-hide"):a.removeClass("list-hide"),l.removeClass("updated"),p.removeClass("updated"),s.find("span").removeClass(),i.find("strong").html(d.list_1.title[t]),i.find("p").html(d.list_1.text[t]),o.find("strong").html(d.list_2.title[t]),o.find("p").html(d.list_2.text[t]),n.find("strong").html(d.list_3.title[t]),n.find("p").html(d.list_3.text[t]),a.find("strong").html(d.list_4.title[t]),a.find("p").html(d.list_4.text[t]),setTimeout(function(){l.attr("data-logo",d.logo[t]).addClass("updated")},120),setTimeout(function(){s.find("span").addClass(d.logo[t])},320),setTimeout(function(){p.addClass("updated")},800)};i.each(function(t){d.list_1.title[t]=$(this).find("strong").html(),d.list_1.text[t]=$(this).find("p").html()}),o.each(function(t){d.list_2.title[t]=$(this).find("strong").html(),d.list_2.text[t]=$(this).find("p").html()}),n.each(function(t){d.list_3.title[t]=$(this).find("strong").html(),d.list_3.text[t]=$(this).find("p").html()}),a.each(function(t){d.list_4.title[t]=$(this).find("strong").html(),d.list_4.text[t]=$(this).find("p").html()}),r(e),t.on("click",function(){e<2?e++:e=0,r(e)})},popupDamuSwiper=new Swiper(".popup-slide-damu-container",{loop:!0,touchRatio:0,navigation:{nextEl:".popup-damu-button-next",prevEl:".popup-damu-button-prev"}}),popupSlideEvent=function(){console.log("~"),$(".popup-damu-button-next").on("click",function(){console.log("next!")})};$(window).on("load",function(){aboutSlideEvent(),serviceSlideEvent(),popupSlideEvent()}),$(function(){$(window).on("load",function(){var t,e,i,o;t=$(".visual-title"),e=[],i=t.find(".quote"),o=new TimelineMax({}),t.find("i").each(function(t){e[t]=$(this)}),o.staggerFrom([e[0],e[1],e[2]],.6,{opacity:0,width:0},.4).addLabel("listShow").from(i,.65,{opacity:0},"listShow+=0.3")})});